#!/bin/bash

cd simulations;
python experiment.py  \
	--numClients 10 \
	--numServers 3 \
	--numWorkload 1 \
	--serverQueueCapacity 1 \
	--serviceTime 4.00 \
	--constArrivalTime 2.1818181818 \
	--serviceTimeModel constant \
	--replicationFactor 3 \
	--selectionStrategy primary \
	--accessPattern uniform \
	--nwLatencyBase 10.00 \
	--nwLatencyMu 0.0 \
	--nwLatencySigma 0.0 \
	--expPrefix primary\
	--simulationDuration 100000\
	--seed 434\
	--numRequests 5000;

python experiment.py  \
	--numClients 10 \
	--numServers 3 \
	--numWorkload 1 \
	--serverQueueCapacity 1 \
	--serviceTime 4.00 \
	--constArrivalTime 2.1818181818 \
	--serviceTimeModel constant \
	--replicationFactor 3 \
	--selectionStrategy response_time \
	--accessPattern uniform \
	--nwLatencyBase 10.00 \
	--nwLatencyMu 0.0 \
	--nwLatencySigma 0.0 \
	--expPrefix rp\
	--simulationDuration 100000\
	--seed 434\
	--numRequests 5000;


python experiment.py  \
	--numClients 10 \
	--numServers 3 \
	--numWorkload 1 \
	--serverQueueCapacity 1 \
	--serviceTime 4.00 \
	--constArrivalTime 2.1818181818 \
	--serviceTimeModel constant \
	--replicationFactor 3 \
	--selectionStrategy pending \
	--accessPattern uniform \
	--nwLatencyBase 10.00 \
	--nwLatencyMu 0.0 \
	--nwLatencySigma 0.0 \
	--expPrefix pending\
	--simulationDuration 100000\
	--seed 434\
	--numRequests 5000;

python experiment.py  \
	--numClients 10 \
	--numServers 3 \
	--numWorkload 1 \
	--serverQueueCapacity 1 \
	--serviceTime 4.00 \
	--constArrivalTime 2.1818181818 \
	--serviceTimeModel constant \
	--replicationFactor 3 \
	--selectionStrategy pendingXserviceTime \
	--accessPattern uniform \
	--nwLatencyBase 10.00 \
	--nwLatencyMu 0.0 \
	--nwLatencySigma 0.0 \
	--expPrefix pendingXserviceTime\
	--simulationDuration 100000\
	--seed 434\
	--numRequests 5000;

python experiment.py  \
	--numClients 10 \
	--numServers 3 \
	--numWorkload 1 \
	--serverQueueCapacity 1 \
	--serviceTime 4.00 \
	--constArrivalTime 2.1818181818 \
	--serviceTimeModel constant \
	--replicationFactor 3 \
	--selectionStrategy pendingXserviceTimeOracle \
	--accessPattern uniform \
	--nwLatencyBase 10.00 \
	--nwLatencyMu 0.0 \
	--nwLatencySigma 0.0 \
	--expPrefix oracle\
	--simulationDuration 100000\
	--seed 434\
	--numRequests 5000;

python experiment.py  \
	--numClients 10 \
	--numServers 3 \
	--numWorkload 1 \
	--serverQueueCapacity 1 \
	--serviceTime 4.00 \
	--constArrivalTime 2.1818181818 \
	--serviceTimeModel constant \
	--replicationFactor 3 \
	--selectionStrategy expDelay \
	--accessPattern uniform \
	--nwLatencyBase 10.00 \
	--nwLatencyMu 0.0 \
	--nwLatencySigma 0.0 \
	--expPrefix expDelay\
	--simulationDuration 100000\
	--seed 434\
	--numRequests 5000;


cd ..
cd plotting;
Rscript timeseries.r primary;
Rscript timeseries.r rp;
Rscript timeseries.r pending;
Rscript timeseries.r pendingXserviceTime;
Rscript timeseries.r oracle;
Rscript timeseries.r expDelay;
cd ..
